import{b as g,r as a,j as e,c as l,d as c,e as u}from"./main-BL7vazI0.js";const b=u("src_routes_create-customer_tsx--createCustomer_createServerFn_handler","/_serverFn"),f=l({method:"POST"}).middleware([c]).handler(b),j=u("src_routes_create-customer_tsx--getAllCustomers_createServerFn_handler","/_serverFn"),y=l({method:"GET"}).middleware([c]).handler(j),S=function(){const{customers:m}=g.useLoaderData(),[o,n]=a.useState(""),[d,p]=a.useState(m),[s,x]=a.useState(null),[t,i]=a.useState(!1),C=async()=>{if(!o.trim()){alert("Please enter a customer name");return}i(!0);try{const r=await f({data:{name:o}});x(r);const h=await y();p(h),n("")}catch(r){console.error("Error creating customer:",r),alert("Failed to create customer")}finally{i(!1)}};return e.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif"},children:[e.jsx("h1",{children:"Create Customer"}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("input",{type:"text",value:o,onChange:r=>n(r.target.value),placeholder:"Enter customer name",style:{padding:"10px",fontSize:"16px",marginRight:"10px",border:"1px solid #ccc",borderRadius:"4px"},disabled:t}),e.jsx("button",{onClick:C,disabled:t,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:t?"not-allowed":"pointer",opacity:t?.6:1},children:t?"Creating...":"Create Customer"})]}),s&&e.jsxs("div",{style:{padding:"15px",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"4px",marginBottom:"20px"},children:[e.jsx("h3",{style:{marginTop:0},children:"Customer Created Successfully!"}),e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",s.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",s.name]}),e.jsx("pre",{style:{backgroundColor:"#f8f9fa",padding:"10px",borderRadius:"4px"},children:JSON.stringify(s,null,2)})]}),e.jsxs("div",{children:[e.jsxs("h2",{children:["All Customers (",d.length,")"]}),e.jsx("div",{style:{display:"grid",gap:"10px"},children:d.map(r=>e.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"4px"},children:[e.jsxs("strong",{children:["ID ",r.id,":"]})," ",r.name]},r.id))})]})]})};export{S as component};
